<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dream Decoder</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body class="dd-body dd-dark">

  <div class="dd-app">

    <!-- Top bar -->
    <header class="dd-header">
      <div class="dd-logo">Dream Decoder</div>
      <button id="theme-toggle" class="dd-icon-button" aria-label="Toggle theme">
        ğŸŒ™
      </button>
    </header>

    <!-- Device history notice -->
    <section class="dd-notice">
      <p>
        <strong>Dream history is stored on this device only.</strong>
        Clearing your browser data or switching devices will reset your saved dreams.
      </p>
    </section>

    <!-- Main Input Card -->
    <main class="dd-main">
      <section class="dd-input-card">
        <h1 class="dd-title">Tell me what you remember.</h1>

        <form id="dream-form" method="POST" action="{{ url_for('index') }}">

          <!-- Dream Text -->
          <label for="dream-text" class="dd-label">Your Dream</label>
          <textarea id="dream-text" name="dream_text" rows="6" required
            placeholder="Type or paste your dream hereâ€¦"></textarea>

          <!-- Hidden mode input -->
          <input type="hidden" id="mode-input" name="mode" value="standard" />

          <!-- Mode Chips -->
          <div class="dd-mode-bar">
            <div class="dd-mode-chip dd-mode-chip--active" data-mode="standard">
              <span class="dd-chip-icon">ğŸ§­</span>
              <span>Standard</span>
            </div>

            <div class="dd-mode-chip" data-mode="symbolic">
              <span class="dd-chip-icon">ğŸœ</span>
              <span>Symbolic</span>
            </div>

            <div class="dd-mode-chip" data-mode="psychological">
              <span class="dd-chip-icon">ğŸ§ </span>
              <span>Psychological</span>
            </div>

            <div class="dd-mode-chip" data-mode="narrative">
              <span class="dd-chip-icon">ğŸ“–</span>
              <span>Narrative</span>
            </div>

            <div class="dd-mode-chip" data-mode="scientific">
              <span class="dd-chip-icon">ğŸ”¬</span>
              <span>Scientific</span>
            </div>

            <div class="dd-mode-chip" data-mode="light">
              <span class="dd-chip-icon">âœ¨</span>
              <span>Light</span>
            </div>

            <div class="dd-mode-chip" data-mode="poetic">
              <span class="dd-chip-icon">ğŸª¶</span>
              <span>Poetic</span>
            </div>
          </div>

          <!-- Submit -->
          <button type="submit" class="dd-primary-button">
            Decode Dream â†’
          </button>

          <!-- Loading indicator -->
          <div id="loading-indicator">
            <div class="dd-spinner"></div>
            <span>Decoding your dreamâ€¦</span>
          </div>

        </form>
      </section>
    </main>

  </div>

  <script src="{{ url_for('static', filename='app.js') }}"></script>

</body>
</html>
